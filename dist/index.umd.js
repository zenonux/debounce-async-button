(function(e,n){typeof exports=="object"&&typeof module!="undefined"?module.exports=n(require("vue")):typeof define=="function"&&define.amd?define(["vue"],n):(e=typeof globalThis!="undefined"?globalThis:e||self,e.DebounceAsyncButton=n(e.Vue))})(this,function(e){"use strict";var S=Object.defineProperty,g=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var p=(e,n,t)=>n in e?S(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,_=(e,n)=>{for(var t in n||(n={}))b.call(n,t)&&p(e,t,n[t]);if(i)for(var t of i(n))y.call(n,t)&&p(e,t,n[t]);return e},m=(e,n)=>g(e,T(n));var h=(e,n)=>{var t={};for(var o in e)b.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&i)for(var o of i(e))n.indexOf(o)<0&&y.call(e,o)&&(t[o]=e[o]);return t};const n=["onClick"],t={inheritAttrs:!1},o=e.defineComponent(m(_({},t),{__name:"DebounceAsyncButton",setup(d){let f=e.useAttrs(),{onHandler:r}=f,a=h(f,["onHandler"]);const c=e.ref(!1),k=async s=>(await Promise.resolve(s))(),w=s=>{let l=s.toString();return Object.prototype.toString.call(s)==="[object AsyncFunction]"||l.includes("return _regenerator.default.async(function")},u=e.computed(()=>!a.hasOwnProperty("disabled")||!a.disabled),A=async()=>{!r||!u||c.value||(c.value=!0,w(r)?await r():await k(r),c.value=!1)};return(s,l)=>(e.openBlock(),e.createElementBlock("button",e.mergeProps(e.unref(a),{onClick:e.withModifiers(A,["stop"]),class:{"debounce-async-button":!0,"debounce-async-button-loading":c.value,"debounce-async-button-disabled":!e.unref(u)}}),[e.renderSlot(s.$slots,"default",{loading:c.value,disabled:!e.unref(u)})],16,n))}}));return o.install=function(d){d.component(o.name,o)},o});
